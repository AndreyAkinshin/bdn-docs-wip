<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Params - BenchmarkDotNet Documentation</title>
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../css/theme_colors.css" type="text/css" />
    <link rel="stylesheet" href="../css/styles/vs.css">
    <link rel="stylesheet" href="../css/font-awesome.4.5.0.min.css">

    <!-- Google Analytics -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-41419012-6', 'auto');
      ga('send', 'pageview');

    </script>
    <!-- /Google Analytics -->
    <!-- Yandex.Metrika counter -->
    <script type="text/javascript">
        (function (d, w, c) {
            (w[c] = w[c] || []).push(function() {
                try {
                    w.yaCounter40812449 = new Ya.Metrika({
                        id:40812449,
                        clickmap:true,
                        trackLinks:true,
                        accurateTrackBounce:true
                    });
                } catch(e) { }
            });

            var n = d.getElementsByTagName("script")[0],
                s = d.createElement("script"),
                f = function () { n.parentNode.insertBefore(s, n); };
            s.type = "text/javascript";
            s.async = true;
            s.src = "https://mc.yandex.ru/metrika/watch.js";

            if (w.opera == "[object Opera]") {
                d.addEventListener("DOMContentLoaded", f, false);
            } else { f(); }
        })(document, window, "yandex_metrika_callbacks");
    </script>
    <noscript><div><img src="https://mc.yandex.ru/watch/40812449" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
    <!-- /Yandex.Metrika counter -->
</head>
<body role="document">
    <div class="grid-for-nav">
        <nav data-toggle="nav-shift" class="nav-side stickynav">
            <div class="side-nav-search">
                <a href="../index.htm"><i class="fa fa-home"></i> BenchmarkDotNet Documentation</a>
                <div role="search">
                    <form id="search-form" class="form" action="../Docnet_search.htm" method="get">
                        <input type="text" name="q" placeholder="Search docs" />
                    </form>
                </div>
            </div>
            <div class="menu menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
<ul>
<li class="tocentry"><a href="../index.htm">Home</a>
</li>

<li class="tocentry"><a href="../Overview.htm">Overview</a>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../Guides.htm">Guides</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../Configs.htm">Configs</a></span>
</li>
<li class="tocentry">
<ul>
<li><span class="navigationgroup"><i class="fa fa-caret-down"></i> <a href="../Advancedfeatures.htm">Advanced features</a></span></li>
<li class="tocentry current"><a class="current" href="../Advanced/Params.htm">Params</a>
<ul class="currentrelative">
<li class="tocentry"><a href="#example-params">Example (Params)</a></li>
<li class="tocentry"><a href="#example-paramssource">Example (ParamsSource)</a></li>
<li class="tocentry"><a href="#example-iparam">Example (IParam)</a></li>
</ul>
<li class="tocentry"><a href="../Advanced/SetupAndCleanup.htm">Setup And Cleanup</a>
</li>
<li class="tocentry"><a href="../Advanced/Baseline.htm">Baseline</a>
</li>
<li class="tocentry"><a href="../Advanced/Percentiles.htm">Percentiles</a>
</li>
<li class="tocentry"><a href="../Advanced/STAThread.htm">STAThread</a>
</li>
<li class="tocentry"><a href="../Advanced/CustomizingMono.htm">Customizing Mono</a>
</li>
<li class="tocentry"><a href="../Advanced/EnvironmentVariables.htm">Environment Variables</a>
</li>

</ul>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../Internals.htm">Internals</a></span>
</li>
<li class="tocentry">
<span class="navigationgroup"><i class="fa fa-caret-right"></i> <a href="../Contributing.htm">Contributing</a></span>
</li>
<li class="tocentry"><a href="../FAQ.htm">FAQ</a>
</li>
<li class="tocentry"><a href="../Team.htm">Team</a>
</li>
<li class="tocentry"><a href="../license.htm">License</a>
</li>
</ul>
				<div class="toc-footer">
					<span class="text-small">
						<hr/>
						<a href="https://github.com/FransBouma/DocNet" target="_blank">Made with <i class="fa fa-github"></i> DocNet</a>
					</span>
				</div>	
			</div>
            &nbsp;
        </nav>
        <section data-toggle="nav-shift" class="nav-content-wrap">
            <nav class="nav-top" role="navigation" aria-label="top navigation">
                <i data-toggle="nav-top" class="fa fa-bars"></i>
                <a href="../index.htm">BenchmarkDotNet Documentation</a>
            </nav>
            <div class="nav-content">
                <div role="navigation" aria-label="breadcrumbs navigation">
                    <div class="breadcrumbs">
<ul><li><a href="../index.htm">Home</a></li> / <li><a href="../Advancedfeatures.htm">Advanced features</a></li> / <li><a href="../Advanced/Params.htm">Params</a></li></ul>
					
                    </div>
                    <hr />
                </div>
                <div role="main">
                    <div class="section">
<h1 id="params">Params<a class="headerlink" href="#params" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h1>
<p>You can mark one or several fields or properties in your class by the <code>Params</code> attribute. In this attribute, you can specify set of values. Every value must be a compile-time constant.
As a result, you will get results for each combination of params values.</p>
<h2 id="example-params">Example (Params)<a class="headerlink" href="#example-params" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<pre><code class="cs">public class IntroParams
{
    [Params(100, 200)]
    public int A { get; set; }

    [Params(10, 20)]
    public int B { get; set; }

    [Benchmark]
    public void Benchmark()
    {
        Thread.Sleep(A + B + 5);
    }
}
</code></pre>

<table class="table table-bordered-all table-responsive">
<thead>
<tr>
	<th>Method</th>
	<th>Median</th>
	<th>StdDev</th>
	<th>A</th>
	<th>B</th>
</tr>
</thead>
<tbody>
<tr>
	<td>Benchmark</td>
	<td>115.3325 ms</td>
	<td>0.0242 ms</td>
	<td>100</td>
	<td>10</td>
</tr>
<tr>
	<td>Benchmark</td>
	<td>125.3282 ms</td>
	<td>0.0245 ms</td>
	<td>100</td>
	<td>20</td>
</tr>
<tr>
	<td>Benchmark</td>
	<td>215.3024 ms</td>
	<td>0.0375 ms</td>
	<td>200</td>
	<td>10</td>
</tr>
<tr>
	<td>Benchmark</td>
	<td>225.2710 ms</td>
	<td>0.0434 ms</td>
	<td>200</td>
	<td>20</td>
</tr>
</tbody>
</table>
<h1 id="paramssource">ParamsSource<a class="headerlink" href="#paramssource" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h1>
<p>In case you want to use a lot of values, you should use <code>[ParamsSource]</code>.</p>
<p>You can mark one or several fields or properties in your class by the <code>ParamsSource</code> attribute. In this attribute, you have to specify the name of public method/property which is going to provide the values (something that implements <code>IEnumerable</code>). The source must be within benchmarked type! If the values are complex types (not compile-time constants) you should implement <code>IParam</code> interface (see below).</p>
<h2 id="example-paramssource">Example (ParamsSource)<a class="headerlink" href="#example-paramssource" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<pre><code class="cs">public class IntroParamsSource
{
    [ParamsSource(nameof(ValuesForA))]
    public int A { get; set; } // property with public setter

    [ParamsSource(nameof(ValuesForB))]
    public int B; // public field

    public IEnumerable&lt;int&gt; ValuesForA =&gt; new[] { 100, 200 }; // public property

    public static IEnumerable&lt;int&gt; ValuesForB() =&gt; new[] { 10, 20 }; // public static method

    [Benchmark]
    public void Benchmark() =&gt; Thread.Sleep(A + B + 5);
}
</code></pre>

<table class="table table-bordered-all table-responsive">
<thead>
<tr>
	<th>Method</th>
	<th>Median</th>
	<th>StdDev</th>
	<th>A</th>
	<th>B</th>
</tr>
</thead>
<tbody>
<tr>
	<td>Benchmark</td>
	<td>115.3325 ms</td>
	<td>0.0242 ms</td>
	<td>100</td>
	<td>10</td>
</tr>
<tr>
	<td>Benchmark</td>
	<td>125.3282 ms</td>
	<td>0.0245 ms</td>
	<td>100</td>
	<td>20</td>
</tr>
<tr>
	<td>Benchmark</td>
	<td>215.3024 ms</td>
	<td>0.0375 ms</td>
	<td>200</td>
	<td>10</td>
</tr>
<tr>
	<td>Benchmark</td>
	<td>225.2710 ms</td>
	<td>0.0434 ms</td>
	<td>200</td>
	<td>20</td>
</tr>
</tbody>
</table>
<h1 id="iparam">IParam<a class="headerlink" href="#iparam" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h1>
<p>In case you want to use values which are not compile-time constants, you have to create a type which implements <code>IParam</code> interface. This is required because internally BenchmarkDotNet generates and compiles code for every benchmark. We know how to deal with primitive types, but we don't want to implement complex logic for creating complex types. This responsibility is transferred to the users ;)</p>
<h2 id="example-iparam">Example (IParam)<a class="headerlink" href="#example-iparam" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<pre><code class="cs">public class IntroIParam
{
    public struct VeryCustomStruct
    {
        public readonly int X, Y;

        public VeryCustomStruct(int x, int y)
        {
            X = x;
            Y = y;
        }
    }

    public class CustomParam : IParam
    {
        private readonly VeryCustomStruct value;

        public CustomParam(VeryCustomStruct value) =&gt; this.value = value;

        public object Value =&gt; value;

        public string DisplayText =&gt; $&quot;({value.X},{value.Y})&quot;;

        public string ToSourceCode() =&gt; $&quot;new VeryCustomStruct({value.X}, {value.Y})&quot;;
    }

    [ParamsSource(nameof(Parameters))]
    public VeryCustomStruct Field;

    public IEnumerable&lt;IParam&gt; Parameters()
    {
        yield return new CustomParam(new VeryCustomStruct(100, 10));
        yield return new CustomParam(new VeryCustomStruct(100, 20));
        yield return new CustomParam(new VeryCustomStruct(200, 10));
        yield return new CustomParam(new VeryCustomStruct(200, 20));
    }

    [Benchmark]
    public void Benchmark() =&gt; Thread.Sleep(Field.X + Field.Y);
}
</code></pre>

<table class="table table-bordered-all table-responsive">
<thead>
<tr>
	<th>Method</th>
	<th>Field</th>
	<th align="right">Mean</th>
	<th align="right">Error</th>
	<th align="right">StdDev</th>
</tr>
</thead>
<tbody>
<tr>
	<td>Benchmark</td>
	<td>(100,10)</td>
	<td align="right">110.4 ms</td>
	<td align="right">0.1148 ms</td>
	<td align="right">0.1074 ms</td>
</tr>
<tr>
	<td>Benchmark</td>
	<td>(100,20)</td>
	<td align="right">120.4 ms</td>
	<td align="right">0.0843 ms</td>
	<td align="right">0.0788 ms</td>
</tr>
<tr>
	<td>Benchmark</td>
	<td>(200,10)</td>
	<td align="right">210.4 ms</td>
	<td align="right">0.0892 ms</td>
	<td align="right">0.0834 ms</td>
</tr>
<tr>
	<td>Benchmark</td>
	<td>(200,20)</td>
	<td align="right">220.4 ms</td>
	<td align="right">0.0949 ms</td>
	<td align="right">0.0887 ms</td>
</tr>
</tbody>
</table>

                    </div>
                </div>
                <footer>
                    <hr />
                    <div role="contentinfo">
BenchmarkDotNet Documentation. &copy;2013-2018. <a href='https://github.com/dotnet/BenchmarkDotNet' target='_blank'>GitHub</a> | <a href='https://www.nuget.org/packages/BenchmarkDotNet/' target='_blank'>NuGet</a>.
                    </div>
                </footer>
            </div>
        </section>
    </div>
    <script src="../js/jquery-2.1.1.min.js"></script>
    <script src="../js/modernizr-2.8.3.min.js"></script>
    <script src="../js/highlight.pack.js"></script>
    <script src="../js/theme.js"></script>

</body>
</html>
